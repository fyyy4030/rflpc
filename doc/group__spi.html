<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>rfLPC: SPI</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">rfLPC
   </div>
   <div id="projectbrief">A low level library for using NXP&#39;s LPC17xx SoC. Config is given for MBED prototyping board</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__spi.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">SPI<div class="ingroups"><a class="el" href="group__drivers.html">Peripheral drivers</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gae52a0cfd2260d8dfecbae8533abf645d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gae52a0cfd2260d8dfecbae8533abf645d">RFLPC_SPI_CPOL_RISING_EDGE</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:gae52a0cfd2260d8dfecbae8533abf645d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure SCL to generate a rising edge clock.  <a href="#gae52a0cfd2260d8dfecbae8533abf645d">More...</a><br /></td></tr>
<tr class="separator:gae52a0cfd2260d8dfecbae8533abf645d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae14d9c51501a4fb9560f000c6531f441"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gae14d9c51501a4fb9560f000c6531f441">RFLPC_SPI_CPOL_FALLING_EDGE</a>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:gae14d9c51501a4fb9560f000c6531f441"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure SCL to generate a falling edge clock.  <a href="#gae14d9c51501a4fb9560f000c6531f441">More...</a><br /></td></tr>
<tr class="separator:gae14d9c51501a4fb9560f000c6531f441"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga86f45a4323c228cd9ba152ef8c67d339"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga86f45a4323c228cd9ba152ef8c67d339">RFLPC_SPI_CPHA_PHASE_PIOR_TO_FIRST_EDGE</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:ga86f45a4323c228cd9ba152ef8c67d339"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit data before first clock edge.  <a href="#ga86f45a4323c228cd9ba152ef8c67d339">More...</a><br /></td></tr>
<tr class="separator:ga86f45a4323c228cd9ba152ef8c67d339"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga83aa96e7b5449eb7da01e27c22e7eae7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga83aa96e7b5449eb7da01e27c22e7eae7">RFLPC_SPI_CPHA_PHASE_FIRST_EDGE</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:ga83aa96e7b5449eb7da01e27c22e7eae7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit data at first clock edge.  <a href="#ga83aa96e7b5449eb7da01e27c22e7eae7">More...</a><br /></td></tr>
<tr class="separator:ga83aa96e7b5449eb7da01e27c22e7eae7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gacd0981a3c68e5b6af8c07d7638cb9156"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gacd0981a3c68e5b6af8c07d7638cb9156">rflpc_spi_t</a> { <br />
&#160;&#160;<a class="el" href="group__spi.html#ggacd0981a3c68e5b6af8c07d7638cb9156ae5a71c49b38c748942c3dfdb056c9fe6">RFLPC_SPI0</a>, 
<br />
&#160;&#160;<a class="el" href="group__spi.html#ggacd0981a3c68e5b6af8c07d7638cb9156a741648e677756a1b0a630b3d6944a384">RFLPC_SPI1</a>
<br />
 }</td></tr>
<tr class="memdesc:gacd0981a3c68e5b6af8c07d7638cb9156"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to select which SPI port to use.  <a href="group__spi.html#gacd0981a3c68e5b6af8c07d7638cb9156">More...</a><br /></td></tr>
<tr class="separator:gacd0981a3c68e5b6af8c07d7638cb9156"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacdd9f294e5d1e913729ec8a9bb715e37"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gacdd9f294e5d1e913729ec8a9bb715e37">rflpc_spi_mode_t</a> { <br />
&#160;&#160;<a class="el" href="group__spi.html#ggacdd9f294e5d1e913729ec8a9bb715e37ac50d7b09239e89014ed6fd314359c5bf">RFLPC_SPI_MASTER</a>, 
<br />
&#160;&#160;<a class="el" href="group__spi.html#ggacdd9f294e5d1e913729ec8a9bb715e37a4b75fd645e9016a1152cda505e1a66d7">RFLPC_SPI_SLAVE</a>
<br />
 }</td></tr>
<tr class="memdesc:gacdd9f294e5d1e913729ec8a9bb715e37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to select the SPI operating mode.  <a href="group__spi.html#gacdd9f294e5d1e913729ec8a9bb715e37">More...</a><br /></td></tr>
<tr class="separator:gacdd9f294e5d1e913729ec8a9bb715e37"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf687030edb3b815769eccdfedabc7f30"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gaf687030edb3b815769eccdfedabc7f30">rflpc_spi_init</a> (<a class="el" href="group__spi.html#gacd0981a3c68e5b6af8c07d7638cb9156">rflpc_spi_t</a> port, <a class="el" href="group__spi.html#gacdd9f294e5d1e913729ec8a9bb715e37">rflpc_spi_mode_t</a> mode, <a class="el" href="group__clock.html#gaf3b7fc561cd12dfdff9f7c1357c3f016">rflpc_clock_divider_t</a> cpu_clock_divider, uint8_t data_size_transfert, uint8_t clock_prescale, uint8_t serial_clock_rate, uint8_t clock_polarity_phase)</td></tr>
<tr class="memdesc:gaf687030edb3b815769eccdfedabc7f30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inits the SPI interface in master mode.  <a href="#gaf687030edb3b815769eccdfedabc7f30">More...</a><br /></td></tr>
<tr class="separator:gaf687030edb3b815769eccdfedabc7f30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaafcca6b7f7909fff39ba58b75c701e57"><td class="memItemLeft" align="right" valign="top">static LPC_SSP_TypeDef *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gaafcca6b7f7909fff39ba58b75c701e57">rflpc_spi_get_base_addr</a> (<a class="el" href="group__spi.html#gacd0981a3c68e5b6af8c07d7638cb9156">rflpc_spi_t</a> port)</td></tr>
<tr class="memdesc:gaafcca6b7f7909fff39ba58b75c701e57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the base address of the SPI control block depending of the desired port.  <a href="#gaafcca6b7f7909fff39ba58b75c701e57">More...</a><br /></td></tr>
<tr class="separator:gaafcca6b7f7909fff39ba58b75c701e57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9d76c0a2207df05a0016b7cf5f992248"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga9d76c0a2207df05a0016b7cf5f992248">rflpc_spi_tx_fifo_empty</a> (<a class="el" href="group__spi.html#gacd0981a3c68e5b6af8c07d7638cb9156">rflpc_spi_t</a> port)</td></tr>
<tr class="memdesc:ga9d76c0a2207df05a0016b7cf5f992248"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tests if transmition FIFO is empty.  <a href="#ga9d76c0a2207df05a0016b7cf5f992248">More...</a><br /></td></tr>
<tr class="separator:ga9d76c0a2207df05a0016b7cf5f992248"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga54045cc4569a584c57e5b57d2e40e31b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga54045cc4569a584c57e5b57d2e40e31b">rflpc_spi_idle</a> (<a class="el" href="group__spi.html#gacd0981a3c68e5b6af8c07d7638cb9156">rflpc_spi_t</a> port)</td></tr>
<tr class="memdesc:ga54045cc4569a584c57e5b57d2e40e31b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test if the spi is idle (nor transmiting neither receiving) This is useful when you need to handle CS by hand.  <a href="#ga54045cc4569a584c57e5b57d2e40e31b">More...</a><br /></td></tr>
<tr class="separator:ga54045cc4569a584c57e5b57d2e40e31b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4336258f89f340435c1971bff1c452ec"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga4336258f89f340435c1971bff1c452ec">rflpc_spi_tx_fifo_full</a> (<a class="el" href="group__spi.html#gacd0981a3c68e5b6af8c07d7638cb9156">rflpc_spi_t</a> port)</td></tr>
<tr class="memdesc:ga4336258f89f340435c1971bff1c452ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tests if the transmition FIFO is full.  <a href="#ga4336258f89f340435c1971bff1c452ec">More...</a><br /></td></tr>
<tr class="separator:ga4336258f89f340435c1971bff1c452ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0080a0144c29fba657836ed20916ee9f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga0080a0144c29fba657836ed20916ee9f">rflpc_spi_rx_fifo_empty</a> (<a class="el" href="group__spi.html#gacd0981a3c68e5b6af8c07d7638cb9156">rflpc_spi_t</a> port)</td></tr>
<tr class="memdesc:ga0080a0144c29fba657836ed20916ee9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tests if the reception FIFO is empty.  <a href="#ga0080a0144c29fba657836ed20916ee9f">More...</a><br /></td></tr>
<tr class="separator:ga0080a0144c29fba657836ed20916ee9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga86d87ed42140ef44d673a16d7bcf555f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga86d87ed42140ef44d673a16d7bcf555f">rflpc_spi_write</a> (<a class="el" href="group__spi.html#gacd0981a3c68e5b6af8c07d7638cb9156">rflpc_spi_t</a> port, uint16_t data)</td></tr>
<tr class="memdesc:ga86d87ed42140ef44d673a16d7bcf555f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends data through the spi interface.  <a href="#ga86d87ed42140ef44d673a16d7bcf555f">More...</a><br /></td></tr>
<tr class="separator:ga86d87ed42140ef44d673a16d7bcf555f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga976b4ee1c4153eab4f477257371998a1"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga976b4ee1c4153eab4f477257371998a1">rflpc_spi_read</a> (<a class="el" href="group__spi.html#gacd0981a3c68e5b6af8c07d7638cb9156">rflpc_spi_t</a> port)</td></tr>
<tr class="memdesc:ga976b4ee1c4153eab4f477257371998a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive data through the spi interface.  <a href="#ga976b4ee1c4153eab4f477257371998a1">More...</a><br /></td></tr>
<tr class="separator:ga976b4ee1c4153eab4f477257371998a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1054c25b01b178e15055f90667199a8e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga1054c25b01b178e15055f90667199a8e">rflpc_spi_set_rx_callback</a> (<a class="el" href="group__spi.html#gacd0981a3c68e5b6af8c07d7638cb9156">rflpc_spi_t</a> port, <a class="el" href="group__irq.html#gaf58a35cedbb09c11e68fa6a0f67ca17c">rflpc_irq_handler_t</a> callback)</td></tr>
<tr class="memdesc:ga1054c25b01b178e15055f90667199a8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the interrupt handler for SPI reception.  <a href="#ga1054c25b01b178e15055f90667199a8e">More...</a><br /></td></tr>
<tr class="separator:ga1054c25b01b178e15055f90667199a8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga83aa96e7b5449eb7da01e27c22e7eae7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RFLPC_SPI_CPHA_PHASE_FIRST_EDGE&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transmit data at first clock edge. </p>
<dl class="section see"><dt>See also</dt><dd>: <a class="el" href="group__spi.html#gaf687030edb3b815769eccdfedabc7f30" title="Inits the SPI interface in master mode. ">rflpc_spi_init</a> </dd></dl>

<p>Definition at line <a class="el" href="spi_8h_source.html#l00060">60</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga86f45a4323c228cd9ba152ef8c67d339"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RFLPC_SPI_CPHA_PHASE_PIOR_TO_FIRST_EDGE&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transmit data before first clock edge. </p>
<dl class="section see"><dt>See also</dt><dd>: <a class="el" href="group__spi.html#gaf687030edb3b815769eccdfedabc7f30" title="Inits the SPI interface in master mode. ">rflpc_spi_init</a> </dd></dl>

<p>Definition at line <a class="el" href="spi_8h_source.html#l00057">57</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

</div>
</div>
<a class="anchor" id="gae14d9c51501a4fb9560f000c6531f441"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RFLPC_SPI_CPOL_FALLING_EDGE&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure SCL to generate a falling edge clock. </p>
<dl class="section see"><dt>See also</dt><dd>: <a class="el" href="group__spi.html#gaf687030edb3b815769eccdfedabc7f30" title="Inits the SPI interface in master mode. ">rflpc_spi_init</a> </dd></dl>

<p>Definition at line <a class="el" href="spi_8h_source.html#l00054">54</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

</div>
</div>
<a class="anchor" id="gae52a0cfd2260d8dfecbae8533abf645d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RFLPC_SPI_CPOL_RISING_EDGE&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure SCL to generate a rising edge clock. </p>
<dl class="section see"><dt>See also</dt><dd>: <a class="el" href="group__spi.html#gaf687030edb3b815769eccdfedabc7f30" title="Inits the SPI interface in master mode. ">rflpc_spi_init</a> </dd></dl>

<p>Definition at line <a class="el" href="spi_8h_source.html#l00052">52</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="gacdd9f294e5d1e913729ec8a9bb715e37"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__spi.html#gacdd9f294e5d1e913729ec8a9bb715e37">rflpc_spi_mode_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used to select the SPI operating mode. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ggacdd9f294e5d1e913729ec8a9bb715e37ac50d7b09239e89014ed6fd314359c5bf"></a>RFLPC_SPI_MASTER&#160;</td><td class="fielddoc">
<p>Use the SPI as master. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggacdd9f294e5d1e913729ec8a9bb715e37a4b75fd645e9016a1152cda505e1a66d7"></a>RFLPC_SPI_SLAVE&#160;</td><td class="fielddoc">
<p>Use the SPI as slave. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="spi_8h_source.html#l00045">45</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

</div>
</div>
<a class="anchor" id="gacd0981a3c68e5b6af8c07d7638cb9156"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__spi.html#gacd0981a3c68e5b6af8c07d7638cb9156">rflpc_spi_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used to select which SPI port to use. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ggacd0981a3c68e5b6af8c07d7638cb9156ae5a71c49b38c748942c3dfdb056c9fe6"></a>RFLPC_SPI0&#160;</td><td class="fielddoc">
<p>Use the SPI port 0. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggacd0981a3c68e5b6af8c07d7638cb9156a741648e677756a1b0a630b3d6944a384"></a>RFLPC_SPI1&#160;</td><td class="fielddoc">
<p>Use the SPI port 1. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="spi_8h_source.html#l00038">38</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaafcca6b7f7909fff39ba58b75c701e57"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static LPC_SSP_TypeDef* rflpc_spi_get_base_addr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__spi.html#gacd0981a3c68e5b6af8c07d7638cb9156">rflpc_spi_t</a>&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the base address of the SPI control block depending of the desired port. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>the port to get </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to a LPC_SSP_TypeDef structure that can be used to configure the desired SPI. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Used by the library internals. You should not need to use this function. </dd></dl>

<p>Definition at line <a class="el" href="spi_8h_source.html#l00086">86</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

<p>References <a class="el" href="spi_8h_source.html#l00040">RFLPC_SPI0</a>.</p>

<p>Referenced by <a class="el" href="spi_8h_source.html#l00109">rflpc_spi_idle()</a>, <a class="el" href="spi_8h_source.html#l00159">rflpc_spi_read()</a>, <a class="el" href="spi_8h_source.html#l00134">rflpc_spi_rx_fifo_empty()</a>, <a class="el" href="spi_8h_source.html#l00097">rflpc_spi_tx_fifo_empty()</a>, <a class="el" href="spi_8h_source.html#l00122">rflpc_spi_tx_fifo_full()</a>, and <a class="el" href="spi_8h_source.html#l00147">rflpc_spi_write()</a>.</p>

</div>
</div>
<a class="anchor" id="ga54045cc4569a584c57e5b57d2e40e31b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rflpc_spi_idle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__spi.html#gacd0981a3c68e5b6af8c07d7638cb9156">rflpc_spi_t</a>&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Test if the spi is idle (nor transmiting neither receiving) This is useful when you need to handle CS by hand. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>The SPI port to test </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the spi port is idle </dd></dl>

<p>Definition at line <a class="el" href="spi_8h_source.html#l00109">109</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

<p>References <a class="el" href="spi_8h_source.html#l00086">rflpc_spi_get_base_addr()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf687030edb3b815769eccdfedabc7f30"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rflpc_spi_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__spi.html#gacd0981a3c68e5b6af8c07d7638cb9156">rflpc_spi_t</a>&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__spi.html#gacdd9f294e5d1e913729ec8a9bb715e37">rflpc_spi_mode_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__clock.html#gaf3b7fc561cd12dfdff9f7c1357c3f016">rflpc_clock_divider_t</a>&#160;</td>
          <td class="paramname"><em>cpu_clock_divider</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>data_size_transfert</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>clock_prescale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>serial_clock_rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>clock_polarity_phase</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inits the SPI interface in master mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>The port to configure </td></tr>
    <tr><td class="paramname">mode</td><td>The mode to use </td></tr>
    <tr><td class="paramname">cpu_clock_divider</td><td>The divider applied to CPU clock to get the SPI peripheral clock </td></tr>
    <tr><td class="paramname">data_size_transfert</td><td>the number of bits that are transfered in each frame (only values between 4 and 16bits are supported) </td></tr>
    <tr><td class="paramname">clock_prescale</td><td>Factor by which the prescaler divide the peripheral clock. Between 2 and 254. Bit 0 is always read as 0 (only even numbers). Used only for master mode </td></tr>
    <tr><td class="paramname">serial_clock_rate</td><td>Number of prescaler-outputs ber bit. This allows to set the SPI tranfert clock. Used only for master mode. </td></tr>
    <tr><td class="paramname">clock_polarity_phase</td><td>Clock polarity and phase. polarity is bit 1, phase is bit 0. Other bits are ignored. Can be constructed as a ORed combination of RFLPC_SPI_CPOL_* and RFLPC_SPI_CPHA_* values</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The final clock used as SCK is then <p class="formulaDsp">
<img class="formulaDsp" alt="\[\frac{CPU Clock}{CPUDivider \times ClockPrescale \times SerialClockRate}\]" src="form_0.png"/>
</p>
 In slave mode, the clock_prescale and serial_clock_rate parameters are not used. The clock sent by the master must not exceed 1/12 of the frequency used to clock the SPI peripheral </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__clock.html#ga7e496bb7f41ac1ff5ab79f7bd1d8ef47" title="returns the system clock in Hz ">rflpc_clock_get_system_clock()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga976b4ee1c4153eab4f477257371998a1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t rflpc_spi_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__spi.html#gacd0981a3c68e5b6af8c07d7638cb9156">rflpc_spi_t</a>&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Receive data through the spi interface. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>the port to receive from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the value read on the spi bus </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>this function waits for a data to be available! </dd></dl>

<p>Definition at line <a class="el" href="spi_8h_source.html#l00159">159</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

<p>References <a class="el" href="spi_8h_source.html#l00086">rflpc_spi_get_base_addr()</a>, and <a class="el" href="spi_8h_source.html#l00134">rflpc_spi_rx_fifo_empty()</a>.</p>

</div>
</div>
<a class="anchor" id="ga0080a0144c29fba657836ed20916ee9f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rflpc_spi_rx_fifo_empty </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__spi.html#gacd0981a3c68e5b6af8c07d7638cb9156">rflpc_spi_t</a>&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tests if the reception FIFO is empty. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>The SPI port to test </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if empty </dd></dl>

<p>Definition at line <a class="el" href="spi_8h_source.html#l00134">134</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

<p>References <a class="el" href="spi_8h_source.html#l00086">rflpc_spi_get_base_addr()</a>.</p>

<p>Referenced by <a class="el" href="spi_8h_source.html#l00159">rflpc_spi_read()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1054c25b01b178e15055f90667199a8e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rflpc_spi_set_rx_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__spi.html#gacd0981a3c68e5b6af8c07d7638cb9156">rflpc_spi_t</a>&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__irq.html#gaf58a35cedbb09c11e68fa6a0f67ca17c">rflpc_irq_handler_t</a>&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the interrupt handler for SPI reception. </p>
<p>The interrupt will be generated when the RX FIFO is half-full </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>the port to use </td></tr>
    <tr><td class="paramname">callback</td><td>the callback to set </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga9d76c0a2207df05a0016b7cf5f992248"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rflpc_spi_tx_fifo_empty </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__spi.html#gacd0981a3c68e5b6af8c07d7638cb9156">rflpc_spi_t</a>&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tests if transmition FIFO is empty. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>The SPI port to test </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if empty </dd></dl>

<p>Definition at line <a class="el" href="spi_8h_source.html#l00097">97</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

<p>References <a class="el" href="spi_8h_source.html#l00086">rflpc_spi_get_base_addr()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4336258f89f340435c1971bff1c452ec"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rflpc_spi_tx_fifo_full </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__spi.html#gacd0981a3c68e5b6af8c07d7638cb9156">rflpc_spi_t</a>&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tests if the transmition FIFO is full. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>The SPI port to test </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if full </dd></dl>

<p>Definition at line <a class="el" href="spi_8h_source.html#l00122">122</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

<p>References <a class="el" href="spi_8h_source.html#l00086">rflpc_spi_get_base_addr()</a>.</p>

<p>Referenced by <a class="el" href="spi_8h_source.html#l00147">rflpc_spi_write()</a>.</p>

</div>
</div>
<a class="anchor" id="ga86d87ed42140ef44d673a16d7bcf555f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rflpc_spi_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__spi.html#gacd0981a3c68e5b6af8c07d7638cb9156">rflpc_spi_t</a>&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sends data through the spi interface. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>The port to send to </td></tr>
    <tr><td class="paramname">data</td><td>The data to send. If the port has been configured to send less than 16 bits in each frame, the data must be right justified </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If the port is configured master, the slave select pin will be activated as long as there is data in the FIFO. If the port is configured slave, the data will be transmitted only when the slave select is activated by master </dd></dl>

<p>Definition at line <a class="el" href="spi_8h_source.html#l00147">147</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

<p>References <a class="el" href="spi_8h_source.html#l00086">rflpc_spi_get_base_addr()</a>, and <a class="el" href="spi_8h_source.html#l00122">rflpc_spi_tx_fifo_full()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Jun 17 2015 14:26:33 for rfLPC by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
